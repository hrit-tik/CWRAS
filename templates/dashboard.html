<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CW-RAS Dashboard</title>

<style>
body{
    margin:0;
    font-family:"Segoe UI",sans-serif;
    background:radial-gradient(circle at top,#0b1e2d,#040b12);
    color:#e8f1f8;
}

@keyframes fadeUp{
    from{opacity:0; transform:translateY(12px);}
    to{opacity:1; transform:translateY(0);}
}

.container{
    max-width:1000px;
    margin:50px auto;
    padding:30px;
    animation:fadeUp .6s ease;
}

h1{
    text-align:center;
    color:#45c7ff;
    margin-bottom:6px;
}

.subtitle{
    text-align:center;
    font-size:14px;
    color:#9fbcd3;
    margin-bottom:40px;
}

.card{
    background:linear-gradient(145deg,#0f2638,#0a1b2a);
    border-radius:20px;
    padding:26px;
    margin-top:26px;
    box-shadow:0 18px 45px rgba(0,0,0,0.45);
}

/* HEADER */
.header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap:wrap;
}

.location-title{
    font-size:22px;
    font-weight:600;
}

.risk-type{
    font-size:14px;
    color:#9fbcd3;
}

.risk-level{
    font-size:16px;
    font-weight:700;
    padding:8px 18px;
    border-radius:20px;
}

/* OVERVIEW */
.overview{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:20px;
}

.overview-item{
    background:linear-gradient(145deg,#0b2133,#081827);
    border-radius:16px;
    padding:20px;
}

.overview-item h4{
    margin:0;
    font-size:14px;
    color:#9fbcd3;
}

.overview-item p{
    margin-top:10px;
    font-size:14px;
    line-height:1.6;
}

/* METRICS */
.metrics{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:24px;
}

.metric{
    background:linear-gradient(145deg,#0b2133,#081827);
    border-radius:16px;
    padding:22px;
}

.metric h3{
    margin:0;
    font-size:14px;
    color:#7dd3a7;
}

.metric .value{
    font-size:30px;
    font-weight:700;
    margin-top:10px;
}

.metric .details{
    margin-top:10px;
    font-size:13px;
    color:#9fbcd3;
    line-height:1.5;
}

.bar{
    height:14px;
    background:#1a3449;
    border-radius:10px;
    margin-top:12px;
    overflow:hidden;
}

.fill{
    height:100%;
    border-radius:10px;
}

.rain{background:linear-gradient(90deg,#4cc9f0,#56e0ff);}
.ground{background:linear-gradient(90deg,#72efdd,#9bf6ff);}
.land{background:linear-gradient(90deg,#80ed99,#b7f8c8);}

.weights{
    text-align:center;
    font-size:13px;
    color:#9fbcd3;
    margin-top:16px;
}

.explanation{
    font-size:15px;
    line-height:1.7;
    color:#dce9f3;
}

.back{
    text-align:center;
    margin-top:38px;
}

.back a{
    color:#45c7ff;
    text-decoration:none;
}
</style>
</head>

<body>

<div class="container">

<h1>CW-RAS Dashboard</h1>
<div class="subtitle">Contextual Water Risk Assessment System</div>

<!-- HEADER -->
<div class="card header">
    <div>
        <div class="location-title">üìç {{ data.panchayat }}</div>
        <div class="risk-type">{{ data.risk_type }}</div>
    </div>

    <div class="risk-level"
        style="
        background:
        {% if data.level == 'Low' %}#064e3b
        {% elif data.level == 'Moderate' %}#78350f
        {% else %}#7f1d1d{% endif %};
        color:
        {% if data.level == 'Low' %}#4ade80
        {% elif data.level == 'Moderate' %}#facc15
        {% else %}#f87171{% endif %};
        ">
        {{ data.level }} Risk
    </div>
</div>

<!-- OVERVIEW WITH RAW DATA -->
<div class="card overview">
    <div class="overview-item">
        <h4>üåß Rainfall Characteristics</h4>
        <p>
            Normal: <strong>{{ data.rainfall_normal }} mm</strong><br>
            Current: <strong>{{ data.rainfall_current }} mm</strong><br>
            Deviation: <strong>{{ data.rainfall_deviation }} %</strong>
        </p>
    </div>

    <div class="overview-item">
        <h4>üíß Groundwater Trends</h4>
        <p>
            Previous: <strong>{{ data.gw_last }}</strong><br>
            Current: <strong>{{ data.gw_current }}</strong><br>
            Change: <strong>{{ data.gw_change }}</strong>
        </p>
    </div>

    <div class="overview-item">
        <h4>üå± Land-use Profile</h4>
        <p>
            Urban: <strong>{{ data.urban_percent }} %</strong><br>
            Forest: <strong>{{ data.forest_percent }} %</strong><br>
            Type: <strong>{{ data.landuse_type }}</strong>
        </p>
    </div>
</div>

<!-- METRICS (SYMMETRIC) -->
<div class="card">
    <div class="metrics">
        <div class="metric">
            <h3>Overall Risk Score</h3>
            <div class="value">{{ data.score }}</div>
        </div>

        <div class="metric">
            <h3>Rainfall Impact</h3>
            <div class="value">{{ data.rainfall }}</div>
            <div class="bar"><div class="fill rain" style="width: {{ data.rainfall * 10 }}%"></div></div>
        </div>

        <div class="metric">
            <h3>Groundwater Impact</h3>
            <div class="value">{{ data.groundwater }}</div>
            <div class="bar"><div class="fill ground" style="width: {{ data.groundwater * 10 }}%"></div></div>
        </div>

        <div class="metric">
            <h3>Land-use Impact</h3>
            <div class="value">{{ data.landuse }}</div>
            <div class="bar"><div class="fill land" style="width: {{ data.landuse * 10 }}%"></div></div>
        </div>
    </div>

    <div class="weights">
        Weight Distribution: Rainfall (40%), Groundwater (40%), Land-use (20%)
    </div>
</div>

<!-- EXPLANATION -->
<div class="card">
    <h3>Assessment Explanation</h3>
    <p class="explanation">
        Based on the combined evaluation of rainfall deviation, groundwater fluctuation,
        and land-use characteristics at the panchayat level, the assessed location exhibits
        a <strong>{{ data.level|lower }}</strong> water-related risk profile.
        {{ data.explanation }}
    </p>
</div>

<div class="back">
    <a href="/">‚Üê Assess another location</a>
</div>

</div>
</body>
</html>
